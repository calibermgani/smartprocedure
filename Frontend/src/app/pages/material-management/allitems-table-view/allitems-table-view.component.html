<div class="row">
  <div class="col-12 p-0">
    <div class="mt-2">
      <div class="d-flex flex-row p-3 editable_header"
        style="background: #855EDB;border: 1px solid #855EDB;border-radius: 17px 17px 0px 0px;position: relative;z-index: 9;height: 51px;top: -6px;"
        *ngIf="showEditablefields == true">
        <div class="flex-shrink-1">
          <div class="d-flex flex-row align-items-center">
            <div class="me-2">
              <input class="form-check-input SelectedCheckbox" type="checkbox" name="inlineRadioOptions" id="inlineRadio1" [(ngModel)]="AllItemsChecked"
                value="option1" (click)="UnSelectAllItems(AllItemsChecked)">
            </div>
            <div class="d-flex flex-row">
              <h1 style="color: #fff !important;" class="pointer" (click)="UnSelectAllItems(AllItemsChecked)">Deselect |</h1><h1 style="color: #fff !important;" class="ps-2">{{selected_row_data_length }} Item selected</h1>
            </div>
          </div>
        </div>
        <div class="flex-grow-0 ms-auto">
          <div class="d-flex flex-row justify-centent-between align-items-center">
            <div [ngClass]="disableheaderButtons == true ? 'disableItemButton me-4' : 'me-4 pointer'" (click)="OpenModal('bulk_edit')">
              <h1 style="color: #fff !important;" class="mb-0"><i class="mdi mdi-pencil-outline me-1"
                  style="color:#fff;font-size:13px"></i>Bulk Edit</h1>
            </div>
            <div [ngClass]="disableheaderButtons == true ? 'disableItemButton me-4' : 'me-4 pointer'" (click)="OpenModal('setalert')">
              <h1 style="color: #fff !important;" class="mb-0"> <img src="assets/images/update_qty.svg"  class="me-1" style="width: 13px;height:20px;">Set Alert</h1>
            </div>
            <div [ngClass]="disableheaderButtons == true ? 'disableItemButton me-4' : 'me-4 pointer'" (click)="OpenModal('bulkupdate')">
              <h1 style="color: #fff !important;" class="mb-0"> <img src="assets/images/update_qty.svg"  class="me-1" style="width: 13px;height:20px;">Update Qty</h1>
            </div>
            <div [ngClass]="disableheaderButtons == true ? 'disableItemButton me-4' : 'me-4 pointer'" (click)="OpenModal('move')">
              <h1 style="color: #fff !important;" class="mb-0"> <img src="assets/images/move_img.svg" width="15px"
                  height="15px" class="me-1">Move</h1>
            </div>
            <div [ngClass]="disableheaderButtons == true ? 'disableItemButton me-4' : 'me-4 pointer'" (click)="OpenModal('clone_modal')">
              <h1 style="color: #fff !important;" class="mb-0"> <img src="assets/images/clone_img.svg" width="15px"
                  height="15px" class="me-1">Clone</h1>
            </div>
            <div [ngClass]="disableheaderButtons == true ? 'disableItemButton me-4' : 'me-4 pointer'" (click)="OpenModal('add_tag')">
              <h1 style="color: #fff !important;" class="mb-0"> <img src="assets/images/add_tag_white.svg" width="15px"
                  height="15px" class="me-1">Add Tag</h1>
            </div>
            <div class="me-4 pointer" (click)="OpenModal('delete_modal')">
              <h1 style="color: #fff !important;" class="mb-0"><i class="mdi mdi-trash-can-outline me-1"
                  style="color:#fff;font-size:13px"></i>Delete</h1>
            </div>
          </div>
        </div>
      </div>
      <div>
        <ag-grid-angular class="ag-theme-alpine" [columnDefs]="columnMainDefs" [gridOptions]="gridOptions1" #myGrid_1
          style="width: 100%;height: 576px;" (gridReady)="onGridReady_1($event)" [defaultColDef]="defaultColDef"
          (selectionChanged)="onSelectionChanged($event)" [sideBar]="sideBar"></ag-grid-angular>
      </div>
      <!-- <div *ngIf="ChangeGrid == true">
        <ag-grid-angular style="width: 100%;height:576px;" class="ag-theme-alpine" [columnDefs]="daily_consumed_columnDef" [defaultColDef]="defaultColDef" [gridOptions]="gridOptionsDailyConsumed" #myGrid_2
            [masterDetail]="true" [embedFullWidthRows]="true" [detailCellRendererParams]="detailCellRendererParams"
            [rowData]="DailyConsumedGridData" (firstDataRendered)="onFirstDataRendered($event)" (selectionChanged)="onSelectionChanged_CloneGrid($event)"
            (gridReady)="onGridReady_dailyconsumedgrid($event)"  [sideBar]="sideBar"></ag-grid-angular>
      </div> -->
      <div>
        <!-- <ag-grid-angular style="width: 100%; height: 576px;" class="ag-theme-alpine" [masterDetail]="true"
          [isRowMaster]="isRowMaster" [columnDefs]="columnMainDefs" [defaultColDef]="defaultColDef" (selectionChanged)="onSelectionChanged($event)"
          [detailCellRendererParams]="detailCellRendererParams" (firstDataRendered)="onFirstDataRendered($event)"
          (gridReady)="onGridReady_1($event)" [gridOptions]="gridOptions1" #myGrid_1></ag-grid-angular> -->
      </div>
    </div>
  </div>
</div>
<!-- <div bsModal #viewitem="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="dialog-nested-name1" [config]="{ignoreBackdropClick: true}">
  <div class="modal-dialog modal-dialog-centered" style="max-width:900px !important;">
    <div class="modal-content">
      <div class="d-flex justify-content-between align-items-center p-2 mx-2 my-3"
        style="background: #F3F4F8;border-radius: 8px;">
        <h1 class="flex-grow-1" style="font-size: 14px !important;color: #1B1B1B !important;">View Item
        </h1>
        <img src="assets/images/Close_icon.svg" width="24px" height="24px" (click)="CloseModal('item_name')"
          style="cursor: pointer">
      </div>
      <div style="overflow-y: scroll !important;height: 500px;">
      <div class="row m-3" style="flex-wrap: nowrap !important">
        <div class="col-3 px-2">
          <div class="d-flex flex-column justify-centent-between">
            <div class="mb-3">
              <label for="items_category" class="modal-label">Item:</label>
              <img [src]="'http://127.0.0.1:8000/public/item_images/' + ViewItemData.image_url" width="207px" height="104px">
            </div>
          </div>
        </div>
        <div class="col-9" style="padding: 0px 0px 0px 84px;">
            <div class="d-flex flex-row justify-centent-between align-items-center mb-3">
              <div class="mb-3 mt-1" style="width: 100%;">
                <label for="items_category" class="modal-label mb-1">Item number</label>
                <h1 class="">{{ ViewItemData.item_number ? ViewItemData.item_number : '-' }}</h1>
              </div>
              <div class="mb-3 mt-1" style="width: 100%;">
                <label for="items_category" class="modal-label mb-1" >Item name</label>
               <h1 class="">{{ ViewItemData.item_name ? ViewItemData.item_name : '-' }}</h1>
              </div>
            </div>
            <div class="d-flex flex-row justify-centent-between align-items-center mb-3">
              <div class=" mb-3 mt-1" style="width: 100%;">
                <label for="items_category" class="modal-label mb-1">Item category</label>
                <h1 class="">{{ ViewItemData.item_category?.name ? ViewItemData.item_category?.name : '-' }}</h1>
              </div>
               <div class="mb-3 mt-1" style="width: 100%;">
                <label for="items_category" class="modal-label mb-1">Sub Category</label>
                <h1 class="">{{ ViewItemData.item_sub_category?.sub_category_name ? ViewItemData.item_sub_category?.sub_category_name : '-' }}</h1>
              </div>
            </div>
        </div>
      </div>
      <div class="row m-3">
        <div class="col-4">
          <div class="mb-3">
            <label for="items_category" class="modal-label mb-1">Procedure </label><br>
            <span class="procedure_value" *ngFor="let x of ViewItemData.item_procedures;let i = index">{{ ViewItemData.item_procedures[i].procedure_name ? ViewItemData.item_procedures[i].procedure_name+' ' : '-'}}</span>
          </div>
        </div>
        <div class="col-4">
          <div class="mb-3">
            <label for="items_category" class="modal-label mb-1">Item Status</label>
            <h1 class="">{{ ViewItemData.item_status == 1 ? 'Active': 'Inactive' }}</h1>
          </div>
        </div>
        <div class="col-4">
          <div class="mb-3">
            <label for="items_category" class="modal-label mb-1" >Vendor</label>
            <h1 class="">{{ ViewItemData.item_vendor?.VendorName ? ViewItemData.item_vendor?.VendorName : '-' }}</h1>
          </div>
        </div>
      </div>
      <div class="row m-3">
        <div class="col-4">
          <div class="mb-3">
            <label for="items_category" class="modal-label mb-1">Price</label>
            <h1 class="">{{ ViewItemData.price ? ViewItemData.price : '-' }}</h1>
          </div>
        </div>
        <div class="col-4">
          <div class="mb-3">
            <label for="items_category" class="modal-label mb-1">Size</label>
            <h1 class="">{{ ViewItemData.size ? ViewItemData.size : '-' }}</h1>
          </div>
        </div>
        <div class="col-4">
          <div class="mb-3" style="width: 100%;">
            <label for="items_category" class="modal-label mb-1">Barcodes</label>
            <h1 class="">{{ ViewItemData.item_barcode ? ViewItemData.item_barcode : '-' }}</h1>
          </div>
        </div>
      </div>
      <div class="row m-3">
        <div class="col-4">
          <div class="mb-3">
            <label for="items_category" class="modal-label mb-1" >Store Qty</label>
            <h1 class="">{{ ViewItemData.store_qty ? ViewItemData.store_qty : '-' }}</h1>
          </div>
        </div>
        <div class="col-4">
          <div class="mb-3">
            <label for="items_category" class="modal-label mb-1">Cabinet Qty</label>
            <h1 class="">{{ ViewItemData.cabinet_qty ? ViewItemData.cabinet_qty : '-' }}</h1>
          </div>
        </div>
        <div class="col-4">
          <div class="mb-3">
            <label for="items_category" class="modal-label mb-1">Expiry Date</label>
            <h1 class="">{{ ViewItemData.expired_date ? ViewItemData.expired_date : '-' }}</h1>
          </div>
        </div>
      </div>
      <div class="row m-3">
        <div class="col-4">
          <div class="mb-3">
            <label for="items_category" class="modal-label mb-1">Min level Qty</label>
            <h1 class="">{{ ViewItemData.min_level ? ViewItemData.min_level : '-' }}</h1>
          </div>
        </div>
        <div class="col-4">
          <div class="mb-3">
            <label for="items_category" class="modal-label mb-1" >Cat No</label>
            <h1 class="">{{ ViewItemData.cat_no ? ViewItemData.cat_no : '-' }}</h1>
          </div>
        </div>
        <div class="col-4">
          <div class="mb-3">
            <label for="items_category" class="modal-label mb-1">Lot No</label>
            <h1 class="">{{ ViewItemData.lot_no ? ViewItemData.lot_no : '-' }}</h1>
          </div>
        </div>
      </div>
      <div class="row m-3">
        <div class="col-8">
          <div class="d-flex">
            <div class="mb-3">
              <label for="items_category" class="modal-label mb-1">Tags</label>
              <h1 >{{ ViewItemData.tag ?  ViewItemData.tag : '-' }}</h1>
            </div>
          </div>
        </div>
        <div class="col-4">
          <div class="mb-3">
            <label for="items_category" class="modal-label mb-1">Unit</label>
            <h1 class="">{{ ViewItemData.unit ?  ViewItemData.unit : '-' }}</h1>
          </div>
        </div>
      </div>
      <div class="row m-3">
        <div class="col-12">
          <label for="items_category" class="modal-label mb-1">Item description</label>
          <h1 class="">{{ ViewItemData.item_description ? ViewItemData.item_description : '-' }}</h1>
        </div>
      </div>
      <div class="row m-3">
        <div class="col-12">
          <label for="items_category" class="modal-label mb-1">Item Notes</label>
          <h1 class="">{{ ViewItemData.item_notes ? ViewItemData.item_notes : '-' }}</h1>
        </div>
      </div>
    </div>
      <div class="d-flex flex-row justify-content-end p-3">
        <div>
          <button type="button" class="btn-new me-4"
            style="background:#F3F4F8 !important;color: #000 !important;width: auto !important;"
            (click)="CloseModal('item_name')">Close</button>
        </div>
        <div>
          <button type="button" class="btn-new me-2"
            style="width: auto !important;"
            (click)="OpenNestedModal()">Edit</button>
        </div>
      </div>
      <div class="d-flex flex-row">
        <div class="previousitem pointer" (click)="GoToPreviousItem(ViewItemData)" [ngClass]="{'disableItemButton': this.disablePrevoiusPatientButton == true}">
          <img src="assets/images/go_previous_patient.svg" width="30px" height="30px">
        </div>
        <div class="nextitem pointer" (click)="GoToNextItem(ViewItemData)" [ngClass]="{'disableItemButton': this.disableNextPatientButton == true}">
          <img src="assets/images/go_next_patient.svg" width="30px" height="30px">
        </div>
      </div>
    </div>
  </div>
</div> -->

<div bsModal #viewitem="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="dialog-nested-name1" [config]="{ignoreBackdropClick: true}">
  <div class="modal-dialog modal-dialog-centered" style="max-width:900px !important;">
    <div class="modal-content">
      <div class="d-flex justify-content-between align-items-center p-2 mx-2 my-3"
        style="background: #F3F4F8;border-radius: 8px;">
        <h1 class="flex-grow-1" style="font-size: 14px !important;color: #1B1B1B !important;">View Item
        </h1>
        <img src="assets/images/Close_icon.svg" width="24px" height="24px" (click)="CloseModal('item_name')"
          style="cursor: pointer">
      </div>
      <div style="overflow-y: scroll !important;height: 500px;">
        <div class="p-3 mx-3" style="height: auto;background-color: #594585;border-radius: 6px;">
          <div class="d-flex flex-row">
            <div>
              <img [src]="apiUrl+ViewItemData.image_url  != apiUrl + 'null' ? apiUrl+ViewItemData.image_url : 'assets/images/default_image.svg'" style="width: 185px;height: 146px;">
            </div>
            <div class="d-flex flex-column mx-3" style="width: 100%;">
              <div class="d-flex flex-row justify-content-between align-items-center" style="width: 100%;height: 69px;">
                <div>
                  <label for="items_category" class="modal-label-white mb-1" style="color: #E8E5F5 !important;">Item name</label>
                  <h1 class="" style="color: #fff !important;font-weight: 500 !important;">{{ ViewItemData.item_name ? ViewItemData.item_name +'-'+ViewItemData.size : '-' }}</h1>
                </div>
                <div class="" style="height: auto;background: #fff;border-radius: 2px;">
                  <img src="assets/images/barcode_new.svg" style="width: 130px;height: 46px;">
                  <h1 class="" style="text-align: center;">{{ ViewItemData.item_barcode ? ViewItemData.item_barcode : '-' }}</h1>
                </div>
              </div>
              <div style="margin-top: 18px;">
                <label for="items_category" class="modal-label-white mb-1" style="color: #E8E5F5 !important;">Procedure</label>
                <div  style="display: flex;flex-direction: row;flex-wrap: wrap;height: 40px;overflow-y: auto;">
                  <h1 class="dis_procedure"  *ngFor="let x of ViewItemData.item_procedures;let i = index">{{ ViewItemData.item_procedures[i].procedure_name ? ViewItemData.item_procedures[i].procedure_name+' ' : '-'}}</h1>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="row m-3">
          <div class="col-3">
            <div class="mb-3">
              <label for="items_category" class="modal-label mb-1">Item number</label>
              <h1 class="viewItem_data">{{ ViewItemData.item_number ? ViewItemData.item_number : '-' }}</h1>
            </div>
          </div>
          <div class="col-3">
            <div class="mb-3">
              <label for="items_category" class="modal-label mb-1" >Item category</label>
              <h1 class="viewItem_data">{{ ViewItemData.item_category?.name ? ViewItemData.item_category?.name : '-' }}</h1>
            </div>
          </div>
          <div class="col-3">
            <div class="mb-3">
              <label for="items_category" class="modal-label mb-1">Sub Category</label>
              <h1 class="viewItem_data">{{ ViewItemData.item_sub_category?.sub_category_name ? ViewItemData.item_sub_category?.sub_category_name : '-' }}</h1>
            </div>
          </div>
          <div class="col-3">
            <div class="mb-3">
              <label for="items_category" class="modal-label mb-1">Expiry Date</label>
              <h1 class="viewItem_data">{{ ViewItemData.expired_date ? ViewItemData.expired_date : '-' }}</h1>
            </div>
          </div>
        </div>
        <div class="row m-3">
          <div class="col-3">
            <div class="mb-3">
              <label for="items_category" class="modal-label mb-1">Store Qty</label>
              <h1 class="viewItem_data">{{ ViewItemData.store_qty ? ViewItemData.store_qty : '-' }}</h1>
            </div>
          </div>
          <div class="col-3">
            <div class="mb-3">
              <label for="items_category" class="modal-label mb-1" >Cabinet Qty</label>
              <h1 class="viewItem_data">{{ ViewItemData.cabinet_qty ? ViewItemData.cabinet_qty : '-' }}</h1>
            </div>
          </div>
          <div class="col-3">
            <div class="mb-3">
              <label for="items_category" class="modal-label mb-1">Min store Qty</label>
              <h1 class="viewItem_data">{{ ViewItemData.min_level ? ViewItemData.min_level : '-' }}</h1>
            </div>
          </div>
          <div class="col-3">
            <div class="mb-3">
              <label for="items_category" class="modal-label mb-1">Size</label>
              <h1 class="viewItem_data">{{ ViewItemData.size ? ViewItemData.size : '-' }}</h1>
            </div>
          </div>
        </div>
        <div class="row m-3">
          <div class="col-3">
            <div class="mb-3">
              <label for="items_category" class="modal-label mb-1">LOT No</label>
              <h1 class="viewItem_data">{{ ViewItemData.lot_no ? ViewItemData.lot_no : '-' }}</h1>
            </div>
          </div>
          <div class="col-3">
            <div class="mb-3">
              <label for="items_category" class="modal-label mb-1" >CAT No</label>
              <h1 class="viewItem_data">{{ ViewItemData.cat_no ? ViewItemData.cat_no : '-' }}</h1>
            </div>
          </div>
          <div class="col-3">
            <div class="mb-3">
              <label for="items_category" class="modal-label mb-1">Price</label>
              <h1 class="viewItem_data">{{ ViewItemData.price ? ViewItemData.price : '-' }}</h1>
            </div>
          </div>
          <div class="col-3">
            <div class="mb-3">
              <label for="items_category" class="modal-label mb-1">Unit</label>
              <h1 class="viewItem_data">{{ ViewItemData.unit ?  ViewItemData.unit : '-' }}</h1>
            </div>
          </div>
        </div>
        <div class="row m-3">
          <div class="col-3">
            <div class="mb-3">
              <label for="items_category" class="modal-label mb-1">Item Status</label>
              <h1 class="viewItem_data">{{ ViewItemData.item_status == 1 ? 'Active': 'Inactive' }}</h1>
            </div>
          </div>
          <div class="col-3">
            <div class="mb-3">
              <label for="items_category" class="modal-label mb-1" >Vendor</label>
              <h1 class="viewItem_data">{{ ViewItemData.item_vendor?.VendorName ? ViewItemData.item_vendor?.VendorName : '-' }}</h1>
            </div>
          </div>
          <div class="col-6">
            <div class="mb-3">
              <label for="items_category" class="modal-label mb-1">Tags</label>
              <h1 class="viewItem_data">{{ ViewItemData.tag ?  ViewItemData.tag : '-' }}</h1>
            </div>
          </div>
        </div>
        <div class="row m-3">
          <div class="col-12">
            <div class="mb-3">
              <label for="items_category" class="modal-label mb-1">Item description</label>
              <h1 class="viewItem_data">{{ ViewItemData.item_description ?  ViewItemData.item_description : '-' }}</h1>
            </div>
          </div>
        </div>
        <div class="row m-3">
          <div class="col-12">
            <div class="mb-3">
              <label for="items_category" class="modal-label mb-1">Notes</label>
              <h1 class="viewItem_data">{{ ViewItemData.item_notes ?  ViewItemData.item_notes : '-' }}</h1>
            </div>
          </div>
        </div>
      </div>
      <div class="d-flex flex-row justify-content-end p-3">
        <div>
          <button type="button" class="btn-new me-4"
            style="background:#F3F4F8 !important;color: #000 !important;width: auto !important;"
            (click)="CloseModal('item_name')">Close</button>
        </div>
        <div>
          <button type="button" class="btn-new me-2" style="width: auto !important;"
            (click)="OpenNestedModal()">Edit</button>
        </div>
      </div>
      <div class="d-flex flex-row">
        <div class="previousitem pointer" (click)="GoToPreviousItem(ViewItemData)"
          [ngClass]="{'disableItemButton': this.disablePrevoiusPatientButton == true}">
          <img src="assets/images/go_previous_patient.svg" width="30px" height="30px">
        </div>
        <div class="nextitem pointer" (click)="GoToNextItem(ViewItemData)"
          [ngClass]="{'disableItemButton': this.disableNextPatientButton == true}">
          <img src="assets/images/go_next_patient.svg" width="30px" height="30px">
        </div>
      </div>
    </div>
  </div>
</div>

<div bsModal #editItem="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="dialog-nested-name1" [config]="{ignoreBackdropClick: true}" [ngClass]="{ 'ReduceOpacity' :hideOpacity_Category == true}">
  <div class="modal-dialog modal-dialog-centered modal-lg" style="max-width: 888px !important;">
    <div class="modal-content p-2">
      <div class="d-flex justify-content-between align-items-center p-2 m-2" style="background: #F3F4F8;border-radius: 6px;">
        <h1 class="flex-grow-1" style="font-size: 14px !important;color: #1B1B1B !important;">Edit Item
        </h1>
        <img src="assets/images/Close_icon.svg" width="24px" height="24px" (click)="CloseModal('editItem')"
          style="cursor: pointer;">
      </div>
      <form [formGroup]="AddItemForm">
        <div style="height: 650px;overflow-y: scroll;overflow-x: hidden;">
      <div class="row p-3" style="height: 209px ;">
        <div class="col-4" style="height: 180px;">
          <div class="">
            <label class="modal-label-edit">Images</label>
            <span class="m-1" style="font-size: 6px; color: #855EDB;">File format png and jpeg</span>
              <!-- <ngx-dropzone class="dropzone" (change)="onSelect($event)" [accept]="'image/*'" >
                <ngx-dropzone-label class="dz-message needsclick">
                  <div class="mt-4">
                    <i class="display-4 text-muted bx bxs-cloud-upload"></i>
                  </div>

                  <h5>Drop files here or click to upload.</h5>
                </ngx-dropzone-label>
              </ngx-dropzone>
              <ngx-dropzone-preview *ngIf="imageURL" class="border rounded" [removable]="true" (removed)="onRemove()">
                <ngx-dropzone-label>
                  <div class="d-flex p-2">
                    <div class="flex-shrink-0 me-3">
                      <div class="avatar-sm bg-light rounded">
                        <img class="img-fluid rounded d-block" src="{{imageURL}}" alt="Dropzone-Image" formControlName="">
                      </div>
                    </div>
                    <div class="flex-grow-1">
                      <div class="pt-1">
                        <strong class="error text-danger"></strong>
                      </div>
                    </div>
                  </div>
                </ngx-dropzone-label>
              </ngx-dropzone-preview> -->
              <!-- end dropzon-preview -->

              <div style="border: 1px dotted #855EDB;width: 264px;height: 148px;">
                <div class="position-relative d-inline-block">
                  <div class="position-absolute bottom-0 end-0">
                      <label for="project-image-input-1" class="mb-0" data-bs-toggle="tooltip" data-bs-placement="right" title="Select Image">
                          <div class="avatar-xs">
                              <div class="avatar-title bg-light border rounded-circle text-muted cursor-pointer shadow font-size-16">
                                  <i class='bx bxs-image-alt'></i>
                              </div>
                          </div>
                      </label>
                      <input class="form-control d-none" value="" id="project-image-input-1" type="file" accept="image/png, image/gif, image/jpeg" (change)="handleImageInput_edit($event)">
                  </div>
                  <div class="avatar-lg" style="height: 9rem !important;
                  width: 16rem !important;">
                      <div class="avatar-title" style="width: 262px;height: 146px;background: transparent;">
                          <img [src]="imageUrl" id="projectlogo-img" class="avatar-md h-auto" style="height: 146px !important;width: 263px;" *ngIf="showImage == true">
                      </div>
                  </div>
              </div>
              </div>


          </div>

        </div>
        <div class="col-8" style="height: 180px;">
          <div class="d-flex flex-row justify-centent-between" style="height: 100px;">
            <div class="mb-5 me-4" style="width: 50%;">
              <label for="items_category" class="modal-label-edit">Items number<span
                  style="color: red;">*</span></label>
              <input class="form-control-new" placeholder="" type="text" formControlName="ItemNumber" minlength="2">
              <div *ngIf="this.AddItemForm.invalid" class="invalid-feedback">
                <div
                  *ngIf="(this.AddItemForm.controls.ItemNumber.dirty || this.AddItemForm.controls.ItemNumber.touched) && this.AddItemForm.controls.ItemNumber.errors?.required">
                  Please fill the field</div>
                <div
                  *ngIf="(this.AddItemForm.controls.ItemNumber.dirty || this.AddItemForm.controls.ItemNumber.touched) && this.AddItemForm.controls.ItemNumber.errors?.minlength">
                  Item Number should be more than one character</div>
              </div>
            </div>
            <div class="mb-5" style="width: 50%;">
              <label for="items_name" class="modal-label-edit">Items Name<span
                  style="color: red;">*</span></label>
              <input class="form-control-new" type="text" formControlName="ItemName" minlength="2">
              <div *ngIf="this.AddItemForm.invalid" class="invalid-feedback">
                <div
                  *ngIf="(this.AddItemForm.controls.ItemName.dirty || this.AddItemForm.controls.ItemName.touched) && this.AddItemForm.controls.ItemName.errors?.required">
                  Please fill the field</div>
                <div
                  *ngIf="(this.AddItemForm.controls.ItemName.dirty || this.AddItemForm.controls.ItemName.touched) && this.AddItemForm.controls.ItemName.errors?.minlength">
                  Item name should be more than one character</div>
              </div>
            </div>
          </div>
          <div class="d-flex flex-row">
            <div class="d-flex flex-row" style="width: 50%;">
              <div class="mb-5" style="width: 100%;">
                <label for="items_descrption" class="modal-label-edit">Item Category<span
                  style="color: red;">*</span></label>
                <ng-select [items]="this.Category" placeholder="Select Category" formControlName="ItemCategory" (change)="OnChangeItemCategory(this.AddItemForm.controls.ItemCategory.value)" appPreventSpaces></ng-select>
                <div *ngIf="this.AddItemForm.invalid" class="invalid-feedback">
                  <div
                    *ngIf="(this.AddItemForm.controls.ItemCategory.dirty || this.AddItemForm.controls.ItemCategory.touched) && this.AddItemForm.controls.ItemCategory.errors?.required">
                    Please select atleast one of the option</div>
                </div>
              </div>
              <div class="mt-4 ms-2">
                <button class="btn-new"
                  style="padding: 2px 12px 2px 12px !important;width: auto !important;height: 36px !important;" (click)="OpenNestedCategory()"><i
                    class="mdi mdi-plus" style="color: #fff !important;font-size: 15px;"></i></button>
              </div>
            </div>
            <div class="ms-3" style="width: 50%;">
              <div class="d-flex flex-row" style="width: 100%;">
                <div class="mb-5" style="width: 100%;">
                  <label for="lot_no" class="modal-label-edit">Sub Category</label>
                  <ng-select [items]="this.SubCategories" placeholder="Choose option" formControlName="subcategory" appPreventSpaces></ng-select>
                </div>
                <div class="mt-4 ms-2">
                  <button class="btn-new"
                    style="padding: 2px 12px 2px 12px !important;width: auto !important;height: 36px !important;" (click)="OpenNestedSubCategory()"><i
                      class="mdi mdi-plus" style="color: #fff !important;font-size: 15px;"></i></button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="row p-3">
        <div class="col-4">
          <div class="d-flex flex-row">
            <div class="">
              <label for="items_status" class="modal-label-edit">Procedure <span style="color: #D62424;font-size: 6px;text-align: center;">You can also link the item to multiple procedure</span></label>
              <ng-select [items]="Procedure" placeholder="Select Status" formControlName="procedure" multiple="true" appPreventSpaces></ng-select>
            </div>
            <div class="mt-4 ms-2">
              <button class="btn-new"
                style="padding: 2px 12px 2px 12px !important;width: auto !important;height: 36px !important;"><i
                  class="mdi mdi-plus" style="color: #fff !important;font-size: 15px;"></i></button>
            </div>
          </div>
        </div>
        <div class="col-4">
          <div class="me-4">
            <label for="items_status" class="modal-label-edit">Item Status</label>
            <ng-select [items]="['Active','Inactive']" placeholder="Select Status" formControlName="ItemStatus" appPreventSpaces (change)="ChangingStatus($event,'editItem')"></ng-select>
          </div>
        </div>
        <div class="col-4">
          <div class="d-flex flex-row">
            <div class="" style="width: 100%;">
              <label for="items_status" class="modal-label-edit">Vendor</label>
              <ng-select [items]="this.vendors" placeholder="Select Status" formControlName="Vendor" appPreventSpaces></ng-select>
            </div>
            <div class="mt-4 ms-2">
              <button class="btn-new"
                style="padding: 2px 12px 2px 12px !important;width: auto !important;height: 36px !important;" (click)="OpenNestedAddVednor()"><i
                  class="mdi mdi-plus" style="color: #fff !important;font-size: 15px;"></i></button>
            </div>
          </div>
        </div>
      </div>
      <div class="row p-3">
        <div class="col-4">
          <div class="">
            <label for="items_no" class="modal-label-edit">Price<span
                style="color: red;">*</span></label>
            <input class="form-control-new price_field riyal" type="text" style="text-align: right;" formControlName="price" step="0.01" appPreventSpaces>
            <div *ngIf="this.AddItemForm.invalid" class="invalid-feedback">
              <div
                *ngIf="(this.AddItemForm.controls.price.dirty || this.AddItemForm.controls.price.touched) && this.AddItemForm.controls.price.errors?.required">
                Please fill the field</div>
            </div>
            <div *ngIf="this.AddItemForm.invalid" class="invalid-feedback">
              <div
                *ngIf="(this.AddItemForm.controls.price.dirty || this.AddItemForm.controls.price.touched) && this.AddItemForm.controls.price.errors?.pattern">
                Price value should be in numbers</div>
            </div>
            <div *ngIf="this.AddItemForm.invalid" class="invalid-feedback">
              <div
                *ngIf="(this.AddItemForm.controls.price.dirty || this.AddItemForm.controls.price.touched) && this.AddItemForm.controls.price.errors?.min">
                Price value should be greater than or equal to zero</div>
            </div>
          </div>
        </div>
        <div class="col-4">
          <div class="">
            <label for="size" class="modal-label-edit">Size
              <!-- <span style="color: red;">*</span> -->
            </label>
            <div class="d-flex">
              <input class="form-control-new me-2" type="text" formControlName="size" appPreventSpaces>
              <ng-select [items]="format_value" placeholder="" style="width: 30%;" class="me-3" formControlName="sizetype" appPreventSpaces></ng-select>
            </div>
          </div>
          <!-- <div *ngIf="this.AddItemForm.invalid" class="invalid-feedback">
            <div *ngIf="(this.AddItemForm.controls.size.dirty || this.AddItemForm.controls.size.touched) && this.AddItemForm.controls.size.errors?.required">
              Please fill the field</div>
          </div>
          <div *ngIf="this.AddItemForm.invalid" class="invalid-feedback">
            <div *ngIf="(this.AddItemForm.controls.size.dirty || this.AddItemForm.controls.size.touched) && this.AddItemForm.controls.sizetype.errors?.required">
              Please select atleast one size type</div>
          </div> -->
          <div *ngIf="this.AddItemForm.invalid" class="invalid-feedback">
            <div
              *ngIf="(this.AddItemForm.controls.size.dirty || this.AddItemForm.controls.size.touched) && this.AddItemForm.controls.size.errors?.min">
              Size value should be greater than or equal to zero</div>
          </div>
          <div *ngIf="this.AddItemForm.invalid" class="invalid-feedback">
            <div
              *ngIf="(this.AddItemForm.controls.size.dirty || this.AddItemForm.controls.size.touched) && this.AddItemForm.controls.size.errors?.pattern">
              Size value should not be in alphabets</div>
          </div>
        </div>
        <div class="col-4">
          <div class="">
            <label for="notes" class="modal-label-edit">Barcodes<span style="color: red;">*</span></label>
            <input class="form-control-new barcode_img" type="text" placeholder="scan or type" formControlName="Barcodes" minlength="2" >
              <div *ngIf="this.AddItemForm.invalid" class="invalid-feedback">
                <div
                  *ngIf="(this.AddItemForm.controls.Barcodes.dirty || this.AddItemForm.controls.Barcodes.touched) && this.AddItemForm.controls.Barcodes.errors?.required">
                  Please fill the field</div>
              </div>
              <div *ngIf="this.AddItemForm.invalid" class="invalid-feedback">
                <div
                  *ngIf="(this.AddItemForm.controls.Barcodes.dirty || this.AddItemForm.controls.Barcodes.touched) && this.AddItemForm.controls.Barcodes.errors?.minlength">
                  Barcode should be more than one character</div>
              </div>
          </div>
        </div>
      </div>
      <div class="row p-3">
        <div class="col-4">
          <div class="">
            <label for="size" class="modal-label-edit">Store Qty<span style="color: red;">*</span></label>
            <div class="d-flex">
             <button class="btn-new" style="padding: 2px 12px 2px 12px !important;width: auto !important;height: 36px !important;" (click)="DecreaseStoreQty(this.StoreQty)"><i
                class="mdi mdi-minus" style="color: #fff !important;font-size: 15px;"></i></button>
              <input name="demo_vertical"  type="text" class="form-control-new" min="0" max="100" style="width: 30% !important;padding-left: 0px 15px !important;text-align: center;" formControlName="storeqty" [(ngModel)]="StoreQty" appPreventSpaces>
              <button class="btn-new" style="padding: 2px 12px 2px 12px !important;width: auto !important;height: 36px !important;" (click)="IncreaseStoreQty(this.StoreQty)"><i
                class="mdi mdi-plus" style="color: #fff !important;font-size: 15px;"></i></button>
            </div>
          </div>
          <div *ngIf="this.AddItemForm.invalid" class="invalid-feedback">
            <div *ngIf="(this.AddItemForm.controls.storeqty.dirty || this.AddItemForm.controls.storeqty.touched) && this.AddItemForm.controls.storeqty.errors?.required">
              Please fill the field</div>
          </div>
          <div *ngIf="this.AddItemForm.invalid" class="invalid-feedback">
            <div *ngIf="(this.AddItemForm.controls.storeqty.dirty || this.AddItemForm.controls.storeqty.touched) && this.AddItemForm.controls.storeqty.errors?.pattern">
              Store Qty should not be in alphabets</div>
          </div>
          <div *ngIf="this.AddItemForm.invalid" class="invalid-feedback">
            <div *ngIf="(this.AddItemForm.controls.storeqty.dirty || this.AddItemForm.controls.storeqty.touched) && this.AddItemForm.controls.storeqty.errors?.min">
             Store Qty should be greater than or equal to zero</div>
          </div>
        </div>
        <div class="col-4">
          <div class="">
            <label for="vendor" class="modal-label-edit">Cabinet Qty</label>
            <div class="d-flex">
              <button class="btn-new" style="padding: 2px 12px 2px 12px !important;width: auto !important;height: 36px !important;" (click)="DecreaseCabinetQty(this.CabinetQty)"><i
                class="mdi mdi-minus" style="color: #fff !important;font-size: 15px;"></i></button>
              <input name="demo_vertical"  type="text" class="form-control-new" min="0" max="100"  style="width: 30% !important;padding: 0px 15px !important;text-align: center;" formControlName="CabinetQty" [(ngModel)]="CabinetQty" appPreventSpaces>
              <button class="btn-new" style="padding: 2px 12px 2px 12px !important;width: auto !important;height: 36px !important;" (click)="IncreaseCabinetQty(this.CabinetQty)"><i
                class="mdi mdi-plus" style="color: #fff !important;font-size: 15px;"></i></button>
            </div>
          </div>
          <div *ngIf="this.AddItemForm.invalid" class="invalid-feedback">
            <div *ngIf="(this.AddItemForm.controls.CabinetQty.dirty || this.AddItemForm.controls.CabinetQty.touched) && this.AddItemForm.controls.CabinetQty.errors?.pattern">
              Cabinet Qty should not be in alphabets</div>
          </div>
          <div *ngIf="this.AddItemForm.invalid" class="invalid-feedback">
            <div *ngIf="(this.AddItemForm.controls.CabinetQty.dirty || this.AddItemForm.controls.CabinetQty.touched) && this.AddItemForm.controls.CabinetQty.errors?.min">
             Cabinet Qty should be greater than or equal to zero</div>
          </div>
        </div>
        <div class="col-4">
          <div class="">
            <label for="price" class="modal-label-edit">Expiry Date
              <span style="color: red;">*</span>
            </label>
            <input type="text" placeholder="Select Date" class="form-control-new" bsDatepicker [bsConfig]="{ adaptivePosition: true , dateInputFormat: 'YYYY-MM-DD' , dateOutputFormat:'YYYY-MM-DD' }" formControlName="ExpiryDate">
          </div>
          <div *ngIf="this.AddItemForm.invalid" class="invalid-feedback">
            <div *ngIf="(this.AddItemForm.controls.ExpiryDate.dirty || this.AddItemForm.controls.ExpiryDate.touched) && this.AddItemForm.controls.ExpiryDate.errors?.required">
              Please fill the field</div>
          </div>
        </div>
      </div>
      <div class="row p-3">
        <div class="col-4">
          <div class="">
            <label for="unit" class="modal-label-edit">Min store Qty
              <!-- <span style="color: red;">*</span> -->
            </label>
            <input class="form-control-new" type="text" formControlName="MinStoreQty" appPreventSpaces>
            <!-- <div *ngIf="this.AddItemForm.invalid" class="invalid-feedback">
              <div *ngIf="(this.AddItemForm.controls.MinStoreQty.dirty || this.AddItemForm.controls.MinStoreQty.touched) && this.AddItemForm.controls.MinStoreQty.errors?.required">
                Please fill the field</div>
            </div> -->
            <div *ngIf="this.AddItemForm.invalid" class="invalid-feedback">
              <div *ngIf="(this.AddItemForm.controls.MinStoreQty.dirty || this.AddItemForm.controls.MinStoreQty.touched) && this.AddItemForm.controls.MinStoreQty.errors?.pattern">
               Min Store Qtymust not be in alphabets</div>
            </div>
            <div *ngIf="this.AddItemForm.invalid" class="invalid-feedback">
              <div *ngIf="(this.AddItemForm.controls.MinStoreQty.dirty || this.AddItemForm.controls.MinStoreQty.touched) && this.AddItemForm.controls.MinStoreQty.errors?.min">
                Please fill the Min Store quantity greater than or equal to zero </div>
            </div>
          </div>
        </div>
        <div class="col-4">
          <div class="">
            <label for="expiry_date" class="modal-label-edit">Cat No</label>
            <input class="form-control-new" type="text" formControlName="CatNo">
          </div>
        </div>
        <div class="col-4">
          <div class="">
            <label for="on_hand_qty" class="modal-label-edit">Lot No</label>
            <input class="form-control-new" type="text" formControlName="LotNo">
          </div>
        </div>
      </div>
      <div class="row p-3">
        <div class="col-8">
          <div class="d-flex flex-row align-items-center">
          <div class=""  style="width: 100%;">
            <label for="items_no" class="modal-label-edit">Tags</label>
            <ng-select [items]="Tags" formControlName="Tags"  placeholder="" [multiple]="true" appPreventSpaces></ng-select>
           </div>
           <div class="mt-4 ms-2">
            <button class="btn-new" (click)="OpenNestedTagsCategory()"
              style="padding: 2px 12px 2px 12px !important;width: auto !important;height: 36px !important;"><i
                class="mdi mdi-plus" style="color: #fff !important;font-size: 15px;"></i></button>
          </div>
        </div>
        </div>
        <div class="col-4">
          <div class="">
            <label for="items_no" class="modal-label-edit">Unit
              <!-- <span style="color: red;">*</span> -->
            </label>
            <input type="text" class="form-control-new" placeholder="" formControlName="Unit" appPreventSpaces>
           </div>
           <!-- <div *ngIf="this.AddItemForm.invalid" class="invalid-feedback">
            <div *ngIf="(this.AddItemForm.controls.Unit.dirty || this.AddItemForm.controls.Unit.touched) && this.AddItemForm.controls.Unit.errors?.required">
              Please fill the field</div>
          </div>
          <div *ngIf="this.AddItemForm.invalid" class="invalid-feedback">
            <div *ngIf="(this.AddItemForm.controls.Unit.dirty || this.AddItemForm.controls.Unit.touched) && this.AddItemForm.controls.Unit.errors?.min">
              Unit Value must be greater than or equal to zero and must not be alphabets</div>
          </div>
          <div *ngIf="this.AddItemForm.invalid" class="invalid-feedback">
            <div *ngIf="(this.AddItemForm.controls.Unit.dirty || this.AddItemForm.controls.Unit.touched) && this.AddItemForm.controls.Unit.errors?.pattern">
              Unit Value must not be alphabets</div>
          </div> -->
        </div>
      </div>
      <div class="row p-3">
        <div class="col-12">
          <div class="">
            <label for="items_no" class="modal-label-edit">Item description</label>
            <textarea type="text" class="form-control-new" placeholder="" formControlName="Itemdescription" style="font-size: 0.6123rem !important;"></textarea>
            <div *ngIf="this.AddItemForm.invalid" class="invalid-feedback">
              <div *ngIf="(this.AddItemForm.controls.Itemdescription.dirty || this.AddItemForm.controls.Itemdescription.touched) && this.AddItemForm.controls.Itemdescription.errors?.maxlength">
               Maximum length should be 250 characters</div>
            </div>
           </div>
        </div>
      </div>
      <div class="row p-3">
        <div class="col-12">
          <div class="mb-3">
            <label for="items_no" class="modal-label-edit">Notes</label>
            <textarea type="text" class="form-control-new" placeholder="" formControlName="Itemnotes" style="font-size: 0.6123rem !important;"></textarea>
            <div *ngIf="this.AddItemForm.invalid" class="invalid-feedback">
              <div *ngIf="(this.AddItemForm.controls.Itemnotes.dirty || this.AddItemForm.controls.Itemnotes.touched) && this.AddItemForm.controls.Itemnotes.errors?.maxlength">
                Maximum length should be 250 characters</div>
            </div>
           </div>
        </div>
      </div>
    </div>
      <div class="d-flex justify-content-end p-3">
        <button type="button" class="btn-new me-2"
          style="background:#F3F4F8 !important;color: #000 !important;width: auto !important;" (click)="CloseModal('editItem')">Cancel</button>
        <button type="button" class="btn-new" style="width: auto !important;" (click)="UpdateItemfn(this.AddItemForm)" [disabled]="this.AddItemForm.invalid"><img src="assets/images/add_img_modal.svg"
            width="24px" height="24px" class="me-2">Update</button>
        <!-- <button type="button" class="btn-new" style="width: auto !important;"><img src="assets/images/add_img_modal.svg"
            width="24px" height="24px" class="me-2">Update</button> -->
      </div>
    </form>
    </div>
  </div>
</div>

<div bsModal #bulk_edit="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="dialog-nested-name5" [config]="{ignoreBackdropClick: true}">
  <div class="modal-dialog modal-dialog-centered" style="max-width:600px !important;">
    <div class="modal-content">
      <div class="d-flex justify-content-between align-items-center p-2 mx-2 my-3"
        style="background: #F3F4F8;border-radius: 8px;">
        <h1 class="flex-grow-1 ms-2" style="font-size: 14px !important;color: #1B1B1B !important;">Bulk Edit
        </h1>
        <img src="assets/images/Close_icon.svg" width="24px" height="24px" (click)="CloseModal('bulk_edit')"
          style="cursor: pointer">
      </div>
      <form [formGroup]="bulkEditForm">
      <div class="row mx-2 my-2">
        <div class="col-6">
          <label for="items_category" class="modal-label-edit mb-1">Select procedure</label>
         <ng-select [items]="this.Procedure" placeholder="Select Procedure" formControlName="procedure" multiple="true"></ng-select>
        </div>
        <div class="col-6">
          <label for="items_category" class="modal-label-edit mb-1">Store Quantity</label>
          <div class="d-flex justify-content-start">
            <button class="btn-new" style="padding: 2px 12px 2px 12px !important;width: auto !important;height: 36px !important;" (click)="DecreaseQuantityQty_bulkEdit(quantity_bulkEdit)"><i
              class="mdi mdi-minus" style="color: #fff !important;font-size: 15px;"></i></button>
            <input name="demo_vertical"  type="text" class="form-control" min="0" max="100" style="width: 30% !important;text-align: center;" [(ngModel)]="quantity_bulkEdit" formControlName="storeQuantity">
            <button class="btn-new" style="padding: 2px 12px 2px 12px !important;width: auto !important;height: 36px !important;" (click)="IncreaseQuantityQty_bulkEdit(quantity_bulkEdit)"><i
              class="mdi mdi-plus" style="color: #fff !important;font-size: 15px;"></i></button>
          </div>
        </div>
      </div>
      <div class="row mx-2 my-2">
        <div class="col-6">
          <label for="items_category" class="modal-label-edit mb-1" >Price</label>
          <input type="text" class="form-control-new riyal" style="text-align: right;" formControlName="price">
        </div>
        <div class="col-6">
          <label for="items_category" class="modal-label-edit mb-1">Min level</label>
          <div class="d-flex justify-content-start">
            <button class="btn-new" style="padding: 2px 12px 2px 12px !important;width: auto !important;height: 36px !important;" (click)="DecreaseMinlevelQty_bulkEdit(minlevel_bulkEdit)"><i
              class="mdi mdi-minus" style="color: #fff !important;font-size: 15px;"></i></button>
            <input name="demo_vertical"  type="text" class="form-control" min="0" max="100" style="width: 30% !important;text-align: center;" [(ngModel)]="minlevel_bulkEdit" formControlName="minLevel">
            <button class="btn-new" style="padding: 2px 12px 2px 12px !important;width: auto !important;height: 36px !important;" (click)="IncreaseMinlevelQty_bulkEdit(minlevel_bulkEdit)"><i
              class="mdi mdi-plus" style="color: #fff !important;font-size: 15px;"></i></button>
          </div>
        </div>
      </div>

      <div class="row mx-2 my-2">
        <div class="col-12">
          <label for="items_category" class="modal-label-edit mb-1">Tags</label>
          <ng-select [items]="this.Tags" placeholder="Select Tags" multiple="true" formControlName="tags"></ng-select>
        </div>
      </div>

      <div class="row mx-2 my-2">
        <div class="col-12">
          <label for="items_category" class="modal-label-edit mb-1">Add Note</label>
          <textarea class="form-control-new textarea-font-size" style="height: 80px;" formControlName="notes"></textarea>
        </div>
      </div>

      <div class="d-flex justify-content-end p-3">
        <button type="button" class="btn-new me-2"
          style="background:#F3F4F8 !important;color: #000 !important;width: auto !important;" (click)="CloseModal('bulk_edit')">Close</button>
        <button type="button" class="btn-new" style="width: auto !important;" (click)="BulkUpdate(this.bulkEditForm)">Update</button>
      </div>
    </form>
    </div>
  </div>
</div>

<div bsModal #setalert="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="dialog-nested-name2" [config]="{ignoreBackdropClick: true}">
  <div class="modal-dialog modal-dialog-centered" style="max-width:450px !important;">
    <div class="modal-content">
      <form [formGroup]="setAlertForm">
      <div class="d-flex justify-content-between align-items-center p-2 mx-2 my-3"
        style="background: #F3F4F8;border-radius: 8px;">
        <h1 class="flex-grow-1 ms-2" style="font-size: 14px !important;color: #1B1B1B !important;">Set Qty Alert
        </h1>
        <img src="assets/images/Close_icon.svg" width="24px" height="24px" (click)="CloseModal('setalert')"
          style="cursor: pointer">
      </div>
      <div class="d-flex justify-centent-between align-items-center flex-row px-3 pt-3">
        <div class="mt-1 me-2" style="width: 70%;">
          <label for="items_category" class="modal-label-edit mb-1">Alert me when quantity is</label>
          <ng-select [items]="['Below Min Level','At or Below Min Level']" placeholder="Select the value" formControlName="set_alert_type"></ng-select>
        </div>
        <div class=" mt-1" style="width: 30%;">
          <label for="items_category" class="modal-label-edit mb-1">Min Level</label>
          <input class="form-control-new" type="text" formControlName="min_level">
        </div>
      </div>
      <div class="d-flex justify-centent-between align-items-center flex-row p-3">
        <div class="mt-1 me-2" style="width: 70%;">
          <label for="items_category" class="modal-label-edit mb-1">This alert will be sent to</label>
          <ng-select [items]="this.vendors" placeholder="Search by Vendor" formControlName="vendor"></ng-select>
        </div>
      </div>


      <div class="d-flex justify-content-end p-3">
        <button type="button" class="btn-new me-2"
          style="background:#F3F4F8 !important;color: #000 !important;width: auto !important;" (click)="CloseModal('setalert')">Cancel</button>
        <button type="button" class="btn-new" style="width: auto !important;" (click)="SetAlertfn(this.setAlertForm)">Set</button>
      </div>
    </form>
    </div>
  </div>
</div>

<div bsModal #bulkupdate="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="dialog-nested-name3" [config]="{ignoreBackdropClick: true}">
  <div class="modal-dialog modal-dialog-centered" style="max-width:600px !important;">
    <div class="modal-content">
      <div class="d-flex justify-content-between align-items-center p-2 mx-2 my-3"
        style="background: #F3F4F8;border-radius: 8px;">
        <h1 class="flex-grow-1 ms-2" style="font-size: 14px !important;color: #1B1B1B !important;">Bulk update Quantity
        </h1>
        <img src="assets/images/Close_icon.svg" width="24px" height="24px" (click)="CloseModal('bulkupdate')"
          style="cursor: pointer">
      </div>
      <div class="row mx-3">
        <div class="col-12 p-0" style="border: 0.5px solid #747474;border-radius: 4px;">
          <div class="d-flex justify-content-between align-items-center p-2" style="background: #855EDB;">
            <div>
              <h4 style="color: #fff !important;" class="mb-0">Items(3)</h4>
            </div>
            <div>
              <h4 style="color: #fff !important;" class="mb-0">Quantity</h4>
            </div>
            <div>
              <h4 style="color: #fff !important;" class="mb-0">New quantity</h4>
            </div>
          </div>
          <div class="d-flex justify-content-between align-items-center py-4 px-2" style="background: #F3F4F8;border-radius: 0px 0px 6px 6px;">
            <div>
              <h4 class="mb-0" style="color: #1B1B1B;font-weight: 600 !important;">Bulk update</h4>
            </div>
            <div class="d-flex justify-content-end">
              <button class="btn-new" style="padding: 2px 12px 2px 12px !important;width: auto !important;height: 36px !important;"
                (click)="DecreaseQuantity()"><i class="mdi mdi-minus" style="color: #fff !important;font-size: 15px;"></i></button>
              <input name="demo_vertical" type="text" class="form-control"
                style="width: 30% !important;text-align: center !important;" [(ngModel)]="MainQuantity"
                [ngModelOptions]="{standalone: true}" (input)="MainQuantityfn(MainQuantity)" autocomplete="off">
              <button class="btn-new" style="padding: 2px 12px 2px 12px !important;width: auto !important;height: 36px !important;"
                (click)="IncreaseQuantity()"><i class="mdi mdi-plus" style="color: #fff !important;font-size: 15px;"></i></button>
            </div>
            <div>
              <input type="text" class="form-control" placeholder="eg:50" [(ngModel)]="MainQuantityInput" autocomplete="off" (input)="MainQuantityInputfn(MainQuantityInput)">
            </div>
          </div>
        </div>

          <div *ngFor="let x of guidelines;let i = index">
            <form [formGroup]="dynamicForm" style="padding: 0px !important;">
            <div class="d-flex justify-content-between align-items-center py-4 px-2">
              <div style="width: 20%;" class="ms-0">
                <h4 class="mb-0" style="color: #1B1B1B;font-weight: 600 !important;">{{ x.item_name }}</h4>
              </div>
              <div class="d-flex justify-content-center" style="margin-left: 2rem !important;">
                <button class="btn-new"
                  style="padding: 2px 12px 2px 12px !important;width: auto !important;height: 36px !important;"
                  (click)="individualDecreasequantity(i == 0 ? fields?.[i] : fields?.[i+i],fields[i+i+1],i==0?i:i+i)"><i
                    class="mdi mdi-minus" style="color: #fff !important;font-size: 15px;"></i></button>
                <input name="demo_vertical" type="text" class="form-control" style="width: 30% !important;text-align: center;"
                  [formControlName]=" i == 0 ? fields?.[i] : fields?.[i+i]"
                  (input)="ChangeQuantity($event.target.value, i == 0 ? fields?.[i] : fields?.[i+i],fields[i+i+1],i==0?i:i+i)"
                  required autocomplete="off">
                <button class="btn-new"
                  style="padding: 2px 12px 2px 12px !important;width: auto !important;height: 36px !important;"
                  (click)="individualIncreasequantity(i == 0 ? fields?.[i] : fields?.[i+i],fields[i+i+1],i==0?i:i+i)"><i
                    class="mdi mdi-plus" style="color: #fff !important;font-size: 15px;"></i></button>
              </div>
              <div *ngIf="dynamicForm?.get(i == 0 ? fields?.[i] : fields?.[i+i]).invalid"
                style="position: absolute;top: 60px;left: 201px;">
                <div *ngIf="dynamicForm?.get(i == 0 ? fields?.[i] : fields?.[i+i]).errors?.required" class="invalid-feedback">
                  Please fill the field
                </div>
              </div>
              <div>
                <input type="text" class="form-control" [formControlName]="fields[i+i+1]"
                  (input)="ChangeSubQuantity(fields[i+i+1],i == 0 ? fields?.[i] : fields?.[i+i],i==0?i:i+i)"
                  [(ngModel)]="copiedGuidelines?.[i].store_qty" [ngModelOptions]="{standalone: true}" required minlength=0
                  autocomplete="off">
              </div>
            </div>
            <div *ngIf="dynamicForm?.get(fields[i+i+1]).invalid" style="position: absolute;top: 60px;left: 400px;">
              <div *ngIf="dynamicForm?.get(fields[i+i+1]).errors?.required" class="invalid-feedback">
                Please fill the field
              </div>
              <div *ngIf="dynamicForm?.get(fields[i+i+1]).errors?.min" class="invalid-feedback">
                New Unit can't be below zero
              </div>
            </div>
          </form>
          </div>
      </div>
      <div class="d-flex justify-content-end p-3">
        <button type="button" class="btn-new me-2"
          style="background:#F3F4F8 !important;color: #000 !important;width: auto !important;" (click)="CloseModal('bulkupdate')">Close</button>
        <button type="button" class="btn-new" style="width: auto !important;" (click)="BulkQuantityUpdate()">Update</button>
      </div>
    </div>
  </div>
</div>

<div bsModal #move="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="dialog-nested-name4" [config]="{ignoreBackdropClick: true}">
  <div class="modal-dialog modal-dialog-centered" style="max-width:315px !important;">
    <div class="modal-content">
      <div class="d-flex justify-content-between align-items-center p-2 mx-2 my-3"
        style="background: #F3F4F8;border-radius: 8px;">
        <h1 class="flex-grow-1 ms-2" style="font-size: 14px !important;color: #1B1B1B !important;">Move
        </h1>
        <img src="assets/images/Close_icon.svg" width="24px" height="24px" (click)="CloseModal('move')"
          style="cursor: pointer">
      </div>

      <div class="row mx-3">
        <div class="col-12 p-0">
          <div class="mt-3 pb-4" style=" border-bottom: 0.5px solid #8B8B8B;">
            <label class="modal-label-edit mb-1">Select Destination</label>
            <ng-select [items]="this.Category" placeholder="Select Destination" (change)="OnChangeCategory($event)" appPreventSpaces [(ngModel)]="DestinationValue"></ng-select>
          </div>

          <div class="" style="height: 300px;overflow-y: scroll;overflow-x: hidden;" *ngIf="ShowOverAlllist == true">
            <!-- Multiple folder -->
            <div class="row my-3 align-items-center mx-3" *ngFor="let x of folder_structure_value">
              <div class="col-1 p-0"><img [src]="changefolder == x.name ? 'assets/images/selected_files.svg' : 'assets/images/files.svg'" class="folder_img me-1"></div>
              <div class="col-11 p-0 pointer" (click)="Selectfolder(x.name,x)">
                <h1 class="folder_name mb-0" style="text-wrap: nowrap;font-weight: 500 !important;">{{ x.name }}</h1>
              </div>
              <div class="ms-3 mt-1" *ngIf="x.sub_category">
                <div class="row align-items-center my-2" *ngFor="let y of x.sub_category;let j = index">
                  <div class="col-1 p-0"><img [src]="changesubfolder == y.sub_category_name ? 'assets/images/selected_add_sub_category.svg' : 'assets/images/add_sub_category.svg'" class="folder_img me-1"></div>
                  <div class="col-11 p-0 pointer" (click)="SelectSubFolder(x,y,y.sub_category_name)">
                    <h1 class="folder_name mb-0" style="text-wrap: nowrap;font-weight: 400 !important;">{{ y.sub_category_name }}
                    </h1>
                  </div>
                </div>
              </div>
            </div>
          </div>
            <!-- Only single Folder-->
            <div class="" style="height: auto;overflow-y: scroll;overflow-x: hidden;" *ngIf="ShowOverAlllist == false">
            <div class="row my-3 align-items-center mx-3">
              <div class="col-1 p-0"><img [src]="changefolder == this.folder_structure_value.name ? 'assets/images/selected_files.svg' : 'assets/images/files.svg'" class="folder_img me-1"></div>
              <div class="col-11 p-0 pointer" (click)="Selectfolder(this.folder_structure_value.name,this.folder_structure_value)">
                <h1 class="folder_name mb-0" style="text-wrap: nowrap;font-weight: 500 !important;">{{ this.folder_structure_value.name }}</h1>
              </div>
              <div class="ms-3 mt-1" *ngIf="this.folder_structure_value.sub_category">
                <div class="row align-items-center my-2" *ngFor="let y of this.folder_structure_value.sub_category;let j = index">
                  <div class="col-1 p-0"><img [src]="changesubfolder == y.sub_category_name ? 'assets/images/selected_add_sub_category.svg' : 'assets/images/add_sub_category.svg'" class="folder_img me-1"></div>
                  <div class="col-11 p-0 pointer" (click)="SelectSubFolder(this.folder_structure_value,y,y.sub_category_name)">
                    <h1 class="folder_name mb-0" style="text-wrap: nowrap;font-weight: 400 !important;">{{ y.sub_category_name }}
                    </h1>
                  </div>
                </div>
              </div>
            </div>
          </div>

      </div>
      <div class="d-flex justify-content-end p-3">
        <button type="button" class="btn-new me-2"
          style="background:#F3F4F8 !important;color: #000 !important;width: auto !important;" (click)="CloseModal('move')">Close</button>
        <button type="button" class="btn-new" style="width: auto !important;" (click)="MoveItemnf()">Move</button>
      </div>
    </div>
  </div>
</div>
</div>

<div bsModal #clone_modal="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="dialog-nested-name5" [config]="{ignoreBackdropClick: true}">
  <div class="modal-dialog modal-dialog-centered" style="max-width:310px !important;">
    <div class="modal-content">
      <div class="d-flex justify-content-between align-items-center p-2 mx-2 my-3"
        style="background: #F3F4F8;border-radius: 8px;">
        <h1 class="flex-grow-1 ms-2" style="font-size: 14px !important;color: #1B1B1B !important;">Clone
        </h1>
        <img src="assets/images/Close_icon.svg" width="24px" height="24px" (click)="CloseModal('clone_modal')"
          style="cursor: pointer">
      </div>

      <div class="row mx-2">
        <div class="col-12">
          <div class="d-flex flex-column my-2"></div>
          <div><h1 class="mb-2">Are you sure want to clone {{ selected_row_data_length }} items</h1></div>
          <!-- <div>
            <h4 style="color: #855EDB;">{{ selected_row_data_length }}</h4>
          </div> -->

        </div>
      </div>

      <div class="d-flex justify-content-end p-3">
        <button type="button" class="btn-new me-2"
          style="background:#F3F4F8 !important;color: #000 !important;width: auto !important;" (click)="CloseModal('clone_modal')">Close</button>
        <button type="button" class="btn-new" style="width: auto !important;" (click)="CloneItem()">Clone</button>
      </div>
    </div>
  </div>
</div>

<div bsModal #add_tag="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="dialog-nested-name5" [config]="{ignoreBackdropClick: true}">
  <div class="modal-dialog modal-dialog-centered" style="max-width:390px !important;">
    <div class="modal-content">
      <form [formGroup]="AddtagForm">
      <div class="d-flex justify-content-between align-items-center p-2 mx-2 my-3"
        style="background: #F3F4F8;border-radius: 8px;">
        <h1 class="flex-grow-1 ms-2" style="font-size: 14px !important;color: #1B1B1B !important;">Add Tag
        </h1>
        <img src="assets/images/Close_icon.svg" width="24px" height="24px" (click)="CloseModal('add_tag')"
          style="cursor: pointer">
      </div>

      <div class="row mx-2 my-2">
        <div class="col-12">
          <!-- <div class="mt-1" >
            <label for="items_category" class="modal-label-edit mb-1">Tag Name<span
              style="color: red;">*</span></label>
              <ng-select [items]="Tags" formControlName="Tags"  placeholder="" [multiple]="true"></ng-select>
          </div> -->
          <div class="mb-3 mx-2">
            <label class="modal-label-edit">Tag Name<span style="color: red;">*</span></label>
            <input class="form-control" formControlName="TagName" minlength="2">
            <div *ngIf="this.AddtagForm.invalid"
             class="invalid-feedback">
              <div *ngIf="(this.AddtagForm.controls.TagName.dirty || this.AddtagForm.controls.TagName.touched) && this.AddtagForm.controls.TagName.errors?.required">Please fill the field</div>
              <div *ngIf="(this.AddtagForm.controls.TagName.dirty || this.AddtagForm.controls.TagName.touched) && this.AddtagForm.controls.Tags.errors?.minlength">Tag name should be more than one character</div>
            </div>
          </div>
        </div>
      </div>

      <div class="d-flex justify-content-end p-3">
        <button type="button" class="btn-new me-2"
          style="background:#F3F4F8 !important;color: #000 !important;width: auto !important;" (click)="CloseModal('add_tag')">Close</button>
        <button type="button" class="btn-new" style="width: auto !important;" (click)="UpdateTagsfn(this.AddtagForm)"><img src="assets/images/add_img_modal.svg"
          width="24px" height="24px" class="me-2">Add</button>
      </div>
    </form>
    </div>
  </div>
</div>

<div bsModal #delete_modal="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="dialog-nested-name5" [config]="{ignoreBackdropClick: true}">
  <div class="modal-dialog modal-dialog-centered" style="max-width:400px !important;">
    <div class="modal-content">
      <div class="d-flex justify-content-between align-items-center p-2 mx-2 my-3"
        style="background: #F3F4F8;border-radius: 8px;">
        <h1 class="flex-grow-1 ms-2" style="font-size: 14px !important;color: #1B1B1B !important;">Delete
        </h1>
        <img src="assets/images/Close_icon.svg" width="24px" height="24px" (click)="CloseModal('delete_modal')"
          style="cursor: pointer">
      </div>

      <div class="d-flex flex-column align-items-center justify-content-between mt-4">
        <div class="mb-2">
          <img src="assets/images/delete_modal_img.svg" style="width: 40px;height: 40px;">
        </div>
        <div class="mb-2">
          <h1>Do you want to delete {{ selected_row_data_length > 0 ? selected_row_data_length+' items ?' :'this item ?' }}</h1>
        </div>
        <div class="mb-2">
          <h4>You can always restore deleted items from Trash.</h4>
        </div>
      </div>

      <form [formGroup]="ReasonForm">
        <div class="d-flex flex-column align-items-center justify-content-between m-4">
          <div class="mb-4 mx-4" style="width: 100%;">
            <h4 class="mb-1" style="color: #1B1B1B !important;">Choose Reason
            </h4>
            <ng-select [items]="['Others','Damaged']" placeholder="Select Reason"  appPreventSpaces formControlName="reason1"></ng-select>
          </div>
          <div class="mb-2 mx-4" style="width: 100%;">
            <h4 class="mb-1" style="color: #1B1B1B !important;">Enter Reason
            </h4>
            <input class="form-control-new" type="text" formControlName="reason2">
          </div>
        </div>
      </form>

      <div class="d-flex justify-content-evenly p-3">
        <button type="button" class="btn-new me-2"
          style="background:#F3F4F8 !important;color: #000 !important;width: auto !important;" (click)="CloseModal('delete_modal')">Go back</button>
        <button type="button" class="btn-new" style="width: auto !important;" (click)="DeleteItemfn(this.ReasonForm)">Yes,continue</button>
      </div>
    </div>
  </div>
</div>

<div bsModal #histroy="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="dialog-nested-name1" [config]="{ignoreBackdropClick: true}">
  <div class="modal-dialog modal-dialog-centered" style="max-width:900px !important;">
    <div class="modal-content">
      <div class="d-flex justify-content-between align-items-center p-2 mx-2 my-3"
        style="background: #F3F4F8;border-radius: 8px;">
        <h1 class="flex-grow-1" style="font-size: 14px !important;color: #1B1B1B !important;">Item histroy
        </h1>
        <img src="assets/images/Close_icon.svg" width="24px" height="24px" (click)="CloseModal('histroy')"
          style="cursor: pointer">
      </div>
      <div>
        <div class="p-3 mx-3" style="height: auto;background-color: #594585;border-radius: 6px;">
          <div class="d-flex flex-row">
            <div>
              <img [src]="apiUrl+ViewItemData.image_url  != apiUrl + 'null' ? apiUrl+ViewItemData.image_url : 'assets/images/default_image.svg'" style="width: 185px;height: 146px;">
            </div>
            <div class="d-flex flex-column mx-3" style="width: 100%;">
              <div class="d-flex flex-row justify-content-between align-items-center" style="width: 100%;height: 69px;">
                <div>
                  <label for="items_category" class="modal-label-white mb-1" style="color: #E8E5F5 !important;">Item name</label>
                  <h1 class="" style="color: #fff !important;font-weight: 500 !important;">{{ ViewItemData.item_name ? ViewItemData.item_name +'-'+ViewItemData.size : '-' }}</h1>
                </div>
              </div>
              <div style="margin-top: 18px;">
                <div class="d-flex flex-row justify-content-between">
                  <div>
                    <label for="items_category" class="modal-label-white mb-1" style="color: #E8E5F5 !important;">Item number</label>
                    <div style="display: flex;flex-direction: row;flex-wrap: wrap;height: 40px;overflow-y: auto;">
                      <h1 class="dis_procedure" *ngFor="let x of ViewItemData.item_procedures;let i = index">{{
                        ViewItemData.item_procedures[i].procedure_name ? ViewItemData.item_procedures[i].procedure_name+' ' : '-'}}</h1>
                    </div>
                  </div>
                  <div>
                    <label for="items_category" class="modal-label-white mb-1" style="color: #E8E5F5 !important;">Item category</label>
                    <div>
                      <h1 class="dis_procedure" *ngFor="let x of ViewItemData.item_procedures;let i = index">{{
                        ViewItemData.item_procedures[i].procedure_name ? ViewItemData.item_procedures[i].procedure_name+' ' : '-'}}</h1>
                    </div>
                  </div>
                  <div >
                    <label for="items_category" class="modal-label-white mb-1" style="color: #E8E5F5 !important;">Expiry Date</label>
                    <div>
                      <h1 class="dis_procedure" *ngFor="let x of ViewItemData.item_procedures;let i = index">{{
                        ViewItemData.item_procedures[i].procedure_name ? ViewItemData.item_procedures[i].procedure_name+' ' : '-'}}</h1>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="d-flex flex-column pb-0"
                style="margin: 15px 0px; overflow-x: scroll !important;height: 400px;display: block !important;overflow-y: auto !important;">
                <div class="d-flex" *ngFor="let x of timeline_data">
                  <h4 style="border-right: 1px solid #000;padding:20px 20px 20px 80px;width: 155px;" class="mb-0">
                    {{x.updated_at | date :'yyyy-mm-dd'}}</h4><img src="assets/images/timeline_dot.svg" width="12px" height="12px"
                    style="position: relative;
                right: 0.7%;
                margin-top: 20px;">
                  <div class="d-flex flex-column" style="padding:13px 5px 20px 10px">
                    <h4 style="color: #1B1B1B;" class="mb-2">
                      {{'This Item has been '+x.action_type}}
                    </h4>
                    <!-- <h4 style="color: #1B1B1B;line-height: 14.5px;" class="mb-1"> {{x.description}}</h4> -->
                    <h4 style="color: #747474;">By:&nbsp;Admin</h4>
                  </div>
                </div>
              </div>
      </div>
      <div class="d-flex flex-row justify-content-end p-3">
        <div>
          <button type="button" class="btn-new"
            style="background:#F3F4F8 !important;color: #000 !important;width: auto !important;"
            (click)="CloseModal('histroy')">Close</button>
        </div>
      </div>
    </div>
  </div>
</div>

<div bsModal #confirmation="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="dialog-nested-name5" [config]="{ignoreBackdropClick: true}">
  <div class="modal-dialog modal-dialog-centered" style="max-width:450px !important;">
    <div class="modal-content">
      <div class="d-flex justify-content-between align-items-center p-2 mx-2 my-3"
        style="background: #F3F4F8;border-radius: 8px;">
        <h1 class="flex-grow-1 ms-2" style="font-size: 14px !important;color: #1B1B1B !important;">Are you want to Inactive
        </h1>
        <img src="assets/images/Close_icon.svg" width="24px" height="24px" (click)="CloseConfirmation(SelectedModal)"
          style="cursor: pointer">
      </div>
      <form [formGroup]="ReasonForm">
      <div class="d-flex flex-column align-items-center justify-content-between m-4">
        <div class="mb-4 mx-4" style="width: 100%;">
          <h4 class="mb-1" style="color: #1B1B1B !important;">Choose Reason
          </h4>
          <ng-select [items]="['Others','Damaged']" placeholder="Select Reason"  appPreventSpaces formControlName="reason1"></ng-select>
        </div>
        <div class="mb-2 mx-4" style="width: 100%;">
          <h4 class="mb-1" style="color: #1B1B1B !important;">Enter Reason
          </h4>
          <input class="form-control-new" type="text" formControlName="reason2">
        </div>
      </div>
    </form>

      <div class="d-flex justify-content-end p-3">
        <button type="button" class="btn-new me-2"
          style="background:#F3F4F8 !important;color: #000 !important;width: auto !important;" (click)="CloseConfirmation(SelectedModal)">Cancel</button>
        <button type="button" class="btn-new" style="width: auto !important;" (click)="CloseConfirmation(SelectedModal)">Add Reason</button>
      </div>
    </div>
  </div>
</div>

<!-- Recently Added -->
<div bsModal #addcategory="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="dialog-nested-name2" [config]="{ignoreBackdropClick: true}">
  <div class="modal-dialog modal-dialog-centered modal-lg" style="max-width: 850px !important;">
    <div class="modal-content">
      <div class="d-flex justify-content-between align-items-center p-2 m-3" style="background: #F3F4F8;">
        <h1 class="flex-grow-1" style="font-size: 14px !important;color: #1B1B1B !important;">Add Category
        </h1>
        <img src="assets/images/Close_icon.svg" width="24px" height="24px" (click)="CloseModal('addcategory')"
          style="cursor: pointer;">
      </div>
      <form [formGroup]="AddCategoryForm">
        <div class="row p-3">
          <div class="col-4">
            <div class="mb-3">
              <label for="items_no" class="modal-label-edit">Category Name<span style="color: red;">*</span></label>
              <input type="text" class="form-control-new" formControlName="CategoryName"  minlength="2">
              <div *ngIf="this.AddCategoryForm.invalid" class="invalid-feedback">
                <div
                  *ngIf="(this.AddCategoryForm.controls.CategoryName.dirty || this.AddCategoryForm.controls.CategoryName.touched) && this.AddCategoryForm.controls.CategoryName.errors?.required">
                  Please fill the field</div>
                <div
                  *ngIf="(this.AddCategoryForm.controls.CategoryName.dirty || this.AddCategoryForm.controls.CategoryName.touched) && this.AddCategoryForm.controls.CategoryName.errors?.minlength">
                  Category name should be more than one character</div>
              </div>
            </div>
          </div>
          <div class="col-4">
            <div class="mb-3">
              <label for="cat_no" class="modal-label-edit">Category short Code<span style="color: red;">*</span></label>
              <input type="text" class="form-control-new" formControlName="CategorySubCode" minlength="2">
              <div *ngIf="this.AddCategoryForm.invalid" class="invalid-feedback">
                <div
                  *ngIf="(this.AddCategoryForm.controls.CategorySubCode.dirty || this.AddCategoryForm.controls.CategorySubCode.touched) && this.AddCategoryForm.controls.CategorySubCode.errors?.required">
                  Please fill the field</div>
                <div
                  *ngIf="(this.AddCategoryForm.controls.CategorySubCode.dirty || this.AddCategoryForm.controls.CategorySubCode.touched) && this.AddCategoryForm.controls.CategorySubCode.errors?.minlength">
                  Category Code should be more than one character</div>
              </div>
            </div>
          </div>
          <div class="col-4">
            <div class="mb-3">
              <label for="lot_no" class="modal-label-edit">Status</label>
              <ng-select [items]="['Active','Inactive']" placeholder="Choose Option" class="me-2" formControlName="Status" appPreventSpaces (change)="ChangingStatus($event,'category')"></ng-select>
            </div>
          </div>
        </div>
        <div class="d-flex justify-content-end p-3">
          <button type="button" class="btn-new me-2"
            style="background:#F3F4F8 !important;color: #000 !important;width: auto !important;"
            (click)="CloseModal('addcategory')">Cancel</button>
          <button type="button" class="btn-new" style="width: auto !important;" [disabled]="this.AddCategoryForm.invalid" (click)="AddCategoryfn(this.AddCategoryForm)"><img src="assets/images/add_img_modal.svg"
              width="24px" height="24px" class="me-2">Add</button>
        </div>
      </form>
    </div>
  </div>
</div>

<div bsModal #addvendor="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="dialog-nested-name2" [config]="{ignoreBackdropClick: true}">
  <div class="modal-dialog modal-dialog-centered modal-lg" style="max-width: 888px !important;">
    <div class="modal-content">
      <div class="d-flex justify-content-between align-items-center p-2 m-3" style="background: #F3F4F8;">
        <h1 class="flex-grow-1" style="font-size: 14px !important;color: #1B1B1B !important;">Add vendor
        </h1>
        <img src="assets/images/Close_icon.svg" width="24px" height="24px" (click)="CloseModal('addvendor')"
          style="cursor: pointer;">
      </div>
      <form [formGroup]="AddVendorForm">
      <div class="row m-3">
        <div class="col-4">
            <div class="">
              <label for="items_category" class="modal-label-edit">Vendor Name<span
                  style="color: red;">*</span></label>
              <input class="form-control-new" type="text" formControlName="VendorName" minlength="2">
              <div *ngIf="this.AddVendorForm.invalid"
                class="invalid-feedback">
                <div *ngIf="(this.AddVendorForm.controls.VendorName.dirty || this.AddVendorForm.controls.VendorName.touched) && this.AddVendorForm.controls.VendorName.errors?.required">Please fill the field</div>
                <div *ngIf="(this.AddVendorForm.controls.VendorName.dirty || this.AddVendorForm.controls.VendorName.touched) && this.AddVendorForm.controls.VendorName.errors?.minlength">Vendor name should be more than one character</div>
              </div>
            </div>
          </div>
          <div class="col-4">
            <div class="">
              <label for="items_name" class="modal-label-edit">Vendor Email<span style="color: red;">*</span></label>
              <input type="email" class="form-control-new" formControlName="VendorEmail">
              <div *ngIf="this.AddVendorForm.invalid" class="invalid-feedback">
                <div
                  *ngIf="(this.AddVendorForm.controls.VendorEmail.dirty || this.AddVendorForm.controls.VendorEmail.touched) && this.AddVendorForm.controls.VendorEmail.errors?.required">
                  Please fill the field</div>
                <div
                  *ngIf="(AddVendorForm.controls.VendorEmail.dirty || AddVendorForm.controls.VendorEmail.touched) && AddVendorForm.controls.VendorEmail.errors?.email">
                  Please fill the valid email</div>
              </div>
            </div>
          </div>
          <div class="col-4">
            <div class="">
              <label for="items_no" class="modal-label-edit">Vendor Contact No<span
                  style="color: red;">*</span></label>
                  <input type="text" class="form-control-new" formControlName="VendorContactNo" appPreventSpaces>
                  <div *ngIf="this.AddVendorForm.invalid" class="invalid-feedback">
                    <div
                      *ngIf="(this.AddVendorForm.controls.VendorContactNo.dirty || this.AddVendorForm.controls.VendorContactNo.touched) && this.AddVendorForm.controls.VendorContactNo.errors?.required">
                      Please fill the field</div>
                    <div
                      *ngIf="(AddVendorForm.controls.VendorContactNo.dirty || AddVendorForm.controls.VendorContactNo.touched) && AddVendorForm.controls.VendorContactNo.errors?.pattern">
                      Please fill only number</div>
                      <div
                      *ngIf="(AddVendorForm.controls.VendorContactNo.dirty || AddVendorForm.controls.VendorContactNo.touched) && AddVendorForm.controls.VendorContactNo.errors?.minlength">
                      Maximum length is ten</div>
                  </div>
            </div>
          </div>
      </div>
      <div class="row m-3">
        <div class="col-8">
          <div class="">
            <label for="notes" class="modal-label-edit">Vendor Address</label>
            <input type="text" class="form-control-new" formControlName="VendorAddress">
          </div>
        </div>
        <div class="col-4">
          <div class="">
            <label for="size" class="modal-label-edit">Status</label>
            <ng-select [items]="['Active','Inactive']" placeholder="Choose Option" class="me-2" formControlName="Status" appPreventSpaces (change)="ChangingStatus($event,'addvendor')"></ng-select>
          </div>
        </div>
      </div>
      <div class="d-flex justify-content-end p-3">
        <button type="button" class="btn-new me-2"
          style="background:#F3F4F8 !important;color: #000 !important;width: auto !important;" (click)="CloseModal('addvendor')">Cancel</button>
        <button type="button" class="btn-new" style="width: auto !important;" [disabled]="this.AddVendorForm.invalid" (click)="AddVendorfn(this.AddVendorForm)"><img src="assets/images/add_img_modal.svg"
            width="24px" height="24px" class="me-2">Add</button>
      </div>
    </form>
    </div>
  </div>
</div>

<div bsModal #subcategory="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="dialog-nested-name2" [config]="{ignoreBackdropClick: true}">
  <div class="modal-dialog modal-dialog-centered" style="max-width:700px !important;">
    <div class="modal-content">
      <div class="d-flex justify-content-between align-items-center p-2 mx-2 my-3"
        style="background: #F3F4F8;border-radius: 8px;">
        <h1 class="flex-grow-1" style="font-size: 14px !important;color: #1B1B1B !important;">Add sub category
        </h1>
        <img src="assets/images/Close_icon.svg" width="24px" height="24px" (click)="CloseModal('subcategory')"
          style="cursor: pointer">
      </div>
      <form [formGroup]="AddSubCategoryForm">
      <div class="row mx-2">
        <div class="col-4" >
          <div class="mb-3 mt-1">
            <label for="items_category" class="modal-label-edit mb-1">Sub category Name<span style="color: red;">*</span></label>
            <input type="text" class="form-control-new" formControlName="SubCategoryName" minlength="2">
            <div *ngIf="this.AddSubCategoryForm.invalid"
                class="invalid-feedback">
                <div *ngIf="(this.AddSubCategoryForm.controls.SubCategoryName.dirty || this.AddSubCategoryForm.controls.SubCategoryName.touched) && this.AddSubCategoryForm.controls.SubCategoryName.errors?.required">Please fill the field</div>
                <div *ngIf="(this.AddSubCategoryForm.controls.SubCategoryName.dirty || this.AddSubCategoryForm.controls.SubCategoryName.touched) && this.AddSubCategoryForm.controls.SubCategoryName.errors?.minlength">Sub Category name should be more than one character</div>
              </div>
          </div>
        </div>
        <div class="col-4">
          <div class="mb-3 mt-1" >
            <label for="items_category" class="modal-label-edit mb-1">Choose category</label>
            <ng-select [items]="this.Category" placeholder="Select category" formControlName="category" appPreventSpaces></ng-select>
          </div>
        </div>
        <div class="col-4">
          <div class="mb-3 mt-1">
            <label for="items_category" class="modal-label-edit mb-1">Status</label>
            <ng-select [items]="['Active','Inactive']" placeholder="Select status" formControlName="status" appPreventSpaces (change)="ChangingStatus($event,'subcategory')"></ng-select>
          </div>
        </div>
      </div>
      <div class="d-flex justify-content-end p-3">
        <button type="button" class="btn-new me-2"
          style="background:#F3F4F8 !important;color: #000 !important;width: auto !important;" (click)="CloseModal('subcategory')">Cancel</button>
        <button type="button" class="btn-new" style="width: auto !important;text-align: center;" (click)="AddSubCategoryfn(this.AddSubCategoryForm)" [disabled]="this.AddSubCategoryForm.invalid"><i class="mdi mdi-plus-circle-outline me-2" style="font-size: 16px;"></i>Add</button>
      </div>
    </form>
    </div>
  </div>
</div>

<div bsModal #addtag="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="dialog-nested-name2" [config]="{ignoreBackdropClick: true}">
  <div class="modal-dialog modal-dialog-centered modal-lg" style="max-width: 389px !important;">
    <div class="modal-content">
      <div class="d-flex justify-content-between align-items-center p-2 m-3" style="background: #F3F4F8;">
        <h1 class="flex-grow-1" style="font-size: 14px !important;color: #1B1B1B !important;">Add Tag
        </h1>
        <img src="assets/images/Close_icon.svg" width="24px" height="24px" (click)="CloseModal('addtag')"
          style="cursor: pointer">
      </div>
      <form [formGroup]="AddtagForm_New">
        <div class="row" style="width: 100%;">
          <div class="col-12 p-3 mx-2">
            <div class="mb-3 mx-2">
              <label class="modal-label-edit">Tag Name<span style="color: red;">*</span></label>
              <input class="form-control" formControlName="Tags" minlength="2">
              <div *ngIf="this.AddtagForm_New.invalid"
               class="invalid-feedback">
                <div *ngIf="(this.AddtagForm_New.controls.Tags.dirty || this.AddtagForm_New.controls.Tags.touched) && this.AddtagForm_New.controls.Tags.errors?.required">Please fill the field</div>
                <div *ngIf="(this.AddtagForm_New.controls.Tags.dirty || this.AddtagForm_New.controls.Tags.touched) && this.AddtagForm_New.controls.Tags.errors?.minlength">Tag name should be more than one character</div>
              </div>
            </div>
          </div>
        </div>

      <div class="d-flex justify-content-end p-3">
        <button type="button" class="btn-new me-2"
          style="background:#F3F4F8 !important;color: #000 !important;width: auto !important;" (click)="CloseModal('addtag')">Cancel</button>
        <button type="button" class="btn-new" style="width: auto !important;" (click)="Addtagfn(this.AddtagForm_New)" [disabled]="this.AddtagForm_New.invalid"><img src="assets/images/add_img_modal.svg"
            width="24px" height="24px" class="me-2">Add</button>
      </div>
    </form>
    </div>
  </div>
</div>
